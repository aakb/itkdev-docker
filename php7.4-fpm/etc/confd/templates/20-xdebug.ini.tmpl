{{$mode := getenv "XDEBUG_MODE" }}
{{ if eq $mode "debug"}}
zend_extension=xdebug.so
xdebug.max_nesting_level = {{ getenv "XDEBUG_MAX_NESTING_LEVEL" "256" }}
{{ end }}
{{ if eq $mode "profile"}}
zend_extension=xdebug.so

xdebug.max_nesting_level = {{ getenv "XDEBUG_MAX_NESTING_LEVEL" "256" }}
xdebug.profiler_append = {{ getenv "XDEBUG_PROFILER_APPEND" "0" }}
xdebug.output_dir = {{ getenv "XDEBUG_PROFILER_FILES_DIR" }}/xdebug/profiler
xdebug.profiler_output_name = {{ getenv "XDEBUG_PROFILER_OUTPUT_NAME" "cachegrind.out.%p" }}
xdebug.trigger_value= "{{ getenv "XDEBUG_PROFILER_ENABLE_TRIGGER_VALUE" "" }}"
{{ end }}
